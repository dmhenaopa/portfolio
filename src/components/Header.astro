---
import logo from "../assets/logo.png";
import "../styles/global.css";
---

<header
  class="flex justify-between items-center py-3 w-full max-w-5xl mx-auto px-4 font-medium border-b border-green-bonsai"
>
  <img
    class="rounded-full w-12 h-12 bg-blue-river"
    src={logo.src}
    alt="Diana logo"
  />

  <button
    id="menu-toggle"
    class="md:hidden flex flex-col gap-1.5 p-2"
    aria-label="Toggle navigation"
    aria-expanded="false"
  >
    <span class="block w-6 h-0.5 bg-blue-queen-of-the-night transition-all"
    ></span>
    <span class="block w-6 h-0.5 bg-blue-queen-of-the-night transition-all"
    ></span>
    <span class="block w-6 h-0.5 bg-blue-queen-of-the-night transition-all"
    ></span>
  </button>

  <nav id="main-nav" class="hidden md:flex flex-row gap-x-10">
    <a href="#top" class="py-1.5">Home</a>
    <a href="#about" class="py-1.5">About</a>
    <a href="#experience" class="py-1.5">Experience</a>
    <a href="#projects" class="py-1.5">Projects</a>
    <a
      href="#contact"
      class="bg-pink-camelia text-pink-reddish-purple font-medium me-2 px-3.5 py-1.5 rounded border border-pink-reddish-purple hover:scale-105 hover:bg-pink-camelia/80 transition"
      >Contact &nbsp; ➔</a
    >
  </nav>
</header>

<div
  id="mobile-menu"
  class="hidden md:hidden flex-col gap-2 px-4 py-3 border-b border-green-bonsai font-medium items-center"
>
  <a href="#top" class="py-2">Home</a>
  <a href="#about" class="py-2">About</a>
  <a href="#experience" class="py-2">Experience</a>
  <a href="#projects" class="py-2">Projects</a>
  <a
    href="#contact"
    class="w-fit bg-pink-camelia text-pink-reddish-purple font-medium px-3.5 py-1.5 rounded border border-pink-reddish-purple"
    >Contact ➔</a
  >
</div>

<script>
  const toggle = document.getElementById("menu-toggle")!;
  const menu = document.getElementById("mobile-menu")!;

  toggle.addEventListener("click", () => {
    const isOpen = !menu.classList.contains("hidden");

    if (isOpen) {
      menu.classList.add("hidden");
      toggle.setAttribute("aria-expanded", "false");
    } else {
      menu.classList.remove("hidden");
      menu.classList.add("flex");
      toggle.setAttribute("aria-expanded", "true");
    }
  });

  menu.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      menu.classList.add("hidden");
      menu.classList.remove("flex");
      toggle.setAttribute("aria-expanded", "false");
    });
  });
</script>
